---
title: Repetition
---

## Making things optional

We can make parts of regex optional. We achieve this (among other things) using the `?` operator.

<Example regex={/a?/g}>
    <String></String>
    <String>a</String>
    <String>aa</String>
    <String>aaa</String>
    <String>aaaa</String>
    <String>aaaaa</String>
</Example>

Here's another example:

<Example regex={/https?/g}>
    <String>http</String>
    <String>https</String>
    <String>http/2</String>
    <String>shttp</String>
    <String>ftp</String>
</Example>

Here the`s` following `http` is optional.

We can also make capturing and non-capturing groups optional. The ability to repeat groups is really powerful.

<Example regex={/url: (www\.)?example\.com/g}>
    <String>url: example.com</String>
    <String>url: www.example.com/foo</String>
    <String>Here's the url: example.com.</String>
</Example>

## Zero or more

If we wish to match zero or more of a token, we can suffix it with a `*`.

<Example regex={/a*/g}>
    <String></String>
    <String>a</String>
    <String>aa</String>
    <String>aaa</String>
    <String>aaaa</String>
    <String>aaaaa</String>
</Example>

Our regex matches even an empty string `""`.

## One or more

If we wish to match zero or more of a token, we can suffix it with a `+`.

<Example regex={/a+/g}>
    <String></String>
    <String>a</String>
    <String>aa</String>
    <String>aaa</String>
    <String>aaaa</String>
    <String>aaaaa</String>
</Example>

## Exactly `x` times

If we wish to match a particular token exactly `x` times, we can suffix with with `{x}`. This is functionally identical to repeatedly copy-pasting the token `x` times, but using `{x}` is often a lot less tedious.

<Example regex={/a{3}/g}>
    <String></String>
    <String>a</String>
    <String>aa</String>
    <String>aaa</String>
    <String>aaaa</String>
    <String>aaaaa</String>
</Example>

Here's an example that matches an uppercase six-character hex colour code.

<Example regex={/#[0-9A-F]{6}/g}>
    <String>#AE25AE</String>
    <String>#555555</String>
    <String>How about #73FA79?</String>
    <String>#FFF</String>
    <String>#a2ca2c</String>
</Example>

Here, the token `{6}` applies to the character class `[0-9A-F]`.

## Between `min` and `max` times

If we wish to match a particular token between `min` and `max` times, we can suffix it with `{min,max}`.

<Example regex={/a{2,4}/g}>
    <String></String>
    <String>a</String>
    <String>aa</String>
    <String>aaa</String>
    <String>aaaa</String>
    <String>aaaaa</String>
</Example>

<Warning>
    There must be no space after the comma in <code>{"{min,max}"}</code>.
</Warning>

<Note>
    Both <code>min</code> and <code>max</code> is included in the range.
</Note>

## At least `x` times

If we wish to match a particular token at least, we can suffix it with `{x,}`. Think of it as [`{min,max}`](#between-min-and-max-times), but without an upper bound.

<Example regex={/a{2,}/g}>
    <String></String>
    <String>a</String>
    <String>aa</String>
    <String>aaa</String>
    <String>aaaa</String>
    <String>aaaaa</String>
</Example>

## A note on _greediness_

## Examples

### Bitcoin address

<Example regex={/\b([13][a-km-zA-HJ-NP-Z0-9]{26,33})\b/g}>
    <String>3Nxwenay9Z8Lc9JBiywExpnEFiLp6Afp8v</String>
    <String>1HQ3Go3ggs8pFnXuHVHRytPCq5fGG8Hbhx</String>
    <String>2016-03-09,18f1yugoAJuXcHAbsuRVLQC9TezJ</String>
</Example>

### Youtube Video

<Example
    regex={
        /^(?:https?:\/\/)?(?:www\.?)?youtube\.com\/watch\?.*?v=([^&\s]+).*$/gm
    }
>
    <String>youtube.com/watch?feature=sth&v=dQw4w9WgXcQ</String>
    <String>https://www.youtube.com/watch?v=dQw4w9WgXcQ</String>
    <String>www.youtube.com/watch?v=dQw4w9WgXcQ</String>
    <String>youtube.com/watch?v=dQw4w9WgXcQ</String>
</Example>
